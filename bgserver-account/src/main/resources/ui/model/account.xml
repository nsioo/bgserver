<!--
  ~ /*
  ~  *
  ~  *  *
  ~  *  *  * Copyright (c) Shanghai Xing Ye, Co. Ltd.
  ~  *  *  * https://bg.work
  ~  *  *  *
  ~  *  *  * GNU Lesser General Public License Usage
  ~  *  *  * Alternatively, this file may be used under the terms of the GNU Lesser
  ~  *  *  * General Public License version 3 as published by the Free Software
  ~  *  *  * Foundation and appearing in the file LICENSE.txt included in the
  ~  *  *  * project of this file. Please review the following information to
  ~  *  *  * ensure the GNU Lesser General Public License version 3 requirements
  ~  *  *  * will be met: https://www.gnu.org/licenses/lgpl-3.0.html.
  ~  *  *
  ~  *
  ~  */
  ~
  -->

<ui>
    <inherit>
        <xpath expression="/ui/model[@app='crm'][@name='customerOrderInvoice']/view[@type='edit']" op="append" app="crm">
            <field name="receivable" style="relation"></field>
            <field name="payable" style="relation"></field>
            <field name="order" style="relation" visible="false"/>
        </xpath>

        <xpath expression="/ui/model[@app='crm'][@name='customerOrderInvoice']/view[@type='edit']/field[@name='toCorpName']" op="insertAfter" app="crm">
            <field name="payTyp" type="singleLineText" enable="order.id&lt;1 or order.id=undefined"  style="head"/>
        </xpath>


        <xpath expression="/ui/model[@app='crm'][@name='customerOrderInvoice']/view[@type='create']/field[@name='toCorpName']" op="insertAfter" app="crm">
            <field name="payTyp" type="singleLineText" enable="order.id&lt;1 or order.id=undefined"  style="head"/>
        </xpath>

        <xpath expression="/ui/model[@app='crm'][@name='customerOrderInvoice']/view[@type='create']" op="append" app="crm">
            <field name="order" style="relation" visible="false"/>
        </xpath>

    </inherit>
    <model name="accountPayable" app="account">
        <view type="list">
            <field name="id" type="static"/>
            <field name="orderInvoice.status" type="enumStatic" title="状态">
                <meta>
                    <![CDATA[
                    {
                        "-1":"正在处理",
                        "0":"取消",
                        "1":"成功"
                    }
                ]]>
                </meta>

            </field>
            <field name="orderInvoice.typ" type="enumStatic" title="类型">
                <meta>
                    <![CDATA[
                    {
                        "0":"普通发票",
                        "1":"增值税发票",
                        "2":"收据"
                    }
                ]]>
                </meta>
            </field>
            <field name="orderInvoice.fromCorpName" type="static" title="开票方"/>
            <field name="orderInvoice.toCorpName" type="static" title="受票方"/>
        </view>
        <view type="create">

        </view>
        <view type="edit">

        </view>
        <view type="detail">

        </view>
    </model>

    <model name="accountReceivable" app="account">
        <view type="list">
            <field name="id" type="static"/>
            <field name="orderInvoice.status" type="enumStatic" title="状态">
                <meta>
                    <![CDATA[
                    {
                        "-1":"正在处理",
                        "0":"取消",
                        "1":"成功"
                    }
                ]]>
                </meta>

            </field>
            <field name="orderInvoice.typ" type="enumStatic" title="类型">
                <meta>
                    <![CDATA[
                    {
                        "0":"普通发票",
                        "1":"增值税发票",
                        "2":"收据"
                    }
                ]]>
                </meta>
            </field>
            <field name="orderInvoice.fromCorpName" type="static" title="开票方"/>
            <field name="orderInvoice.toCorpName" type="static" title="受票方"/>
        </view>
        <view type="create">

        </view>
        <view type="edit">

        </view>
        <view type="detail">

        </view>
    </model>

</ui>